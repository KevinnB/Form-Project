<div class="page-content">
  <div class="page-header">
    <h1><a routerLink="/forms">Forms</a><small>&nbsp;{{ (form$ | async)?.name }}</small></h1>
    <div class="navbar-spacer"></div>
    <div class="header-btn">
      <a md-fab (click)="sidenav.toggle()">
        <md-icon fontSet="fa" fontIcon="fa-bars" class="fa-lg"></md-icon>
      </a>
    </div>
  </div>

  <md-sidenav-container>
    <md-sidenav #sidenav mode="side" align="right" opened="true">
      <md-list>
        <md-list-item>
          <small>
            <span class="text-muted">Name:</span><br>
            {{(form$ | async)?.name}}
          </small>
        </md-list-item>
        <md-list-item>
          <small>
            <span class="text-muted">Created:</span><br>
            {{(form$ | async)?.created | date:'MM/dd/yyyy'}}
          </small>
        </md-list-item>
        <md-list-item>
          <small>
            <span class="text-muted">Owner:</span><br>
            {{(form$ | async)?.creatorName}}
          </small>
        </md-list-item>
        <md-list-item>
          <small>
            <span class="text-muted">Updated:</span><br>
            {{(form$ | async)?.updated | date:'MM/dd/yyyy'}}
          </small>
        </md-list-item>
        <md-divider></md-divider>
      </md-list>
      <md-list class="sidebar-toolbox">
        <h3 md-subheader>Toolbox</h3>
        <md-list-item>
          <button md-button md-line dnd-draggable [dragEnabled]="true" [dragData]="{test:'true'}">
            Test
          </button>
        </md-list-item>
      </md-list>
    </md-sidenav>

    <app-loader-manager [config]="_pageSettings">
      <h4>Simple Drag-and-Drop</h4>

      <md-card dnd-droppable (onDropSuccess)="transferDataSuccess($event)">
        Place to drop {{ entities | json}}
        <br><br><br><br><br><br>
      </md-card>


      <form (ngSubmit)="onSubmit($event, documentForm.form.valid)" #documentForm="ngForm" *ngIf="form" class="material-form">

        <md-input-container>
          <input md-input id="name" [(ngModel)]="form.name" name="name" #name="ngModel" placeholder="Name" autocomplete="false" required>
          <md-hint align="end" *ngIf="!name.valid && !name.pristine">Name is required</md-hint>
        </md-input-container>

        <md-select placeholder="Status" [(ngModel)]="form.status" (ngModelChange)="updateStatusHr(form.status)" name="status">
          <md-option *ngFor="let item of statusList" [value]="item.value">
            {{ item.key }}
          </md-option>
        </md-select>
        <br>
        <br>
        <br>
        <button md-button type="submit" class="btn btn-default" [disabled]="!documentForm.form.valid">Submit</button>
      </form>
    </app-loader-manager>
  </md-sidenav-container>
</div>